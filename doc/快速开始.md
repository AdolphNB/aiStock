# 自选股同步功能 - 快速开始

## 安装依赖

首先需要安装新的依赖包 `pypinyin`：

```bash
uv pip install pypinyin
```

或者直接同步所有依赖：

```bash
uv sync
```

## 测试搜索功能

运行测试脚本验证拼音搜索是否正常：

```bash
python test_search.py
```

如果看到测试结果，说明功能正常！

## 使用方法

### 1. 在交易监控选项卡添加自选股

**最快速的方式（推荐）：**

1. 在搜索框输入关键词，例如：
   - `zghd` (中国核电的拼音首字母)
   - `核电` (名称的一部分)
   - `601985` (股票代码)

2. 从弹出的搜索结果中**双击**想要添加的股票

3. 完成！股票已添加到自选股

**其他方式：**

- 单击选择 + 点击 ➕ 按钮
- 按回车选中 + 点击 ➕ 按钮

### 2. 删除自选股

1. 在自选股列表中选择要删除的股票
2. 点击 ➖ 按钮
3. 确认删除

### 3. 在选股选项卡管理自选股

1. 进入"选股"选项卡
2. 在"AI精选结果"中选择股票
3. 点击"➕ 添加到自选"
4. 在"我的自选股池"中点击股票，然后点击"❌ 移除自选"可以删除

### 4. 验证同步功能

1. 在"交易监控"选项卡添加一只股票
2. 切换到"选股"选项卡
3. 在"我的自选股池"中应该能看到刚刚添加的股票
4. 反之亦然

## 搜索技巧

### 拼音首字母搜索

这是最快的搜索方式！只需记住股票名称的拼音首字母：

- `zgpa` → 中国平安
- `zghd` → 中国核电
- `gsyh` → 工商银行
- `slc` → 赛力斯
- `gzmt` → 贵州茅台
- `wly` → 五粮液
- `payh` → 平安银行

### 部分名称搜索

输入名称的任意部分：

- `核电` → 所有包含"核电"的股票
- `银行` → 所有包含"银行"的股票
- `科技` → 所有包含"科技"的股票

### 代码搜索

输入完整或部分代码：

- `601` → 所有以601开头的股票
- `000858` → 五粮液

## 常见问题

### Q: 搜索框输入中文后没有结果？

A: 请确保已安装 pypinyin：
```bash
uv pip install pypinyin
```

### Q: 搜索结果太多？

A: 系统自动限制显示前20个结果。输入更精确的关键词可以缩小范围。

### Q: 如何清空搜索？

A: 删除搜索框中的所有文字，搜索结果列表会自动隐藏。

### Q: 两个选项卡的自选股不一致？

A: 这种情况不应该发生。如果出现，请重启应用。所有自选股数据保存在 `config/config.json` 文件中。

## 配置文件位置

自选股数据保存在：
```
D:\mcpServer\aiStockPrj\aiStock\config\config.json
```

格式示例：
```json
{
  "favorites": [
    {"code": "000001", "name": "平安银行"},
    {"code": "601985", "name": "中国核电"}
  ]
}
```

## 功能演示

### 示例1: 快速添加10只银行股

1. 搜索: `yh` (银行的拼音首字母)
2. 从结果中双击需要的银行股
3. 重复步骤2，快速添加多只

### 示例2: 查找并添加"中字头"股票

1. 搜索: `中国` 或 `zg`
2. 查看所有中国开头的股票
3. 双击添加需要的股票

## 提示

- 拼音首字母搜索不区分大小写
- 搜索结果按优先级排序：代码 > 名称 > 拼音首字母 > 完整拼音
- 双击是最快的添加方式
- 所有操作都会立即同步到另一个选项卡

祝使用愉快！
